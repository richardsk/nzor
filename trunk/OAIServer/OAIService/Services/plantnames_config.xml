<?xml version="1.0" encoding="utf-8" ?>
<Services>
  <Service name="nzflora">
    <AdminEmail>richardsk@landcareresearch.co.nz</AdminEmail>

    <Sets>
      <Set name="Metadata"/>
      <Set name="TaxonName"/>
      <Set name="TaxonProperty"/>
      <Set name="TaxonConcept"/>
      <Set name="Publication"/>
    </Sets>

    <MetadataFormats>
      <MetadataFormat prefix="nzor" uri="C:\Development\NZOR\Dev\OAIServer\OAIService\Config\nzor_provider.xsd" mappingFile="nzor_mapping.xml" />
    </MetadataFormats>

    <DataConnections>
      <DataConnection set="TaxonName">
        <DBConnectionString>Provider=SQLOLEDB;data source=devserver04\sql2005;integrated security=SSPI;initial catalog=PlantName_Cache;persist security info=true</DBConnectionString>
        <Table id="1" name="Name" alias="" pk="NameId">
          <TableJoin id="2" name="OAI" alias="" pk="OAI_ID" type="inner" fkFrom="NameId" fkTo="TableId" joinCondition="OAI.TableName='Name'"></TableJoin>          
        </Table>
        <Mappings>
          <Mapping type="SQLMinValueMapping" field="[EARLIEST_DATE]" table="1" column="ModifiedDate" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[IDENTIFIER]" table="1" column="NameId" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[RESUMPTION_COLUMN]" table="2" column="Counter" columnAlias="" sql="" orderBy="Counter" datatype=""/>
          <!--Mapping type="DatabaseMapping" field="[RECORD_STATUS]" table="" column="" columnAlias="Status" sql="(case when tblName.NameSuppress = 1 then 'deleted' else '' end)" datatype="" /-->
          <Mapping type="DatabaseMapping" field="[RECORD_DATE]" table="1" column="ModifiedDate" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[NameFull]" table="1" column="NameFull" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[Rank]" table="1" column="Rank" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[Canonical]" table="1" column="CanonicalSimple" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[Uninomial]" table="1" column="CanonicalUninomial" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[Genus]" table="1" column="CanonicalGenus" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[InfragenericEpithet]" table="1" column="CanonicalInfragenericEpithet" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[SpecificEpithet]" table="1" column="CanonicalSpecificEpithet" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[InfraspecificEpithet]" table="1" column="CanonicalInfraspecificEpithet" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[Cultivar]" table="1" column="CanonicalCultivarNameGroup" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[Authorship]" table="1" column="Authorship" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[BasionymAuthors]" table="1" column="BasionymAuthors" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[CombiningAuthors]" table="1" column="CombiningAuthors" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[Year]" table="1" column="Year" columnAlias="" sql="" datatype="" />
          
        </Mappings>
      </DataConnection>

      <DataConnection set="Metadata">
        <DBConnectionString>Provider=SQLOLEDB;data source=devserver04\sql2005;integrated security=SSPI;initial catalog=PlantName_Cache;persist security info=true</DBConnectionString>
        <Table id="1" name="Metadata" alias="" pk="ProviderId">
        </Table>
        <Mappings>
          <Mapping type="DatabaseMapping" field="[ProviderId]" table="1" column="ProviderId" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[ProviderName]" table="1" column="Name" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[Disclaimer]" table="1" column="Disclaimer" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[Attribution]" table="1" column="Attribution" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[Licensing]" table="1" column="Licensing" columnAlias="" sql="" datatype="" />            
        </Mappings>
      </DataConnection>

      <DataConnection set="TaxonConcept">
        <DBConnectionString>Provider=SQLOLEDB;data source=devserver04\sql2005;integrated security=SSPI;initial catalog=PlantName_Cache;persist security info=true</DBConnectionString>
        <Table id="1" name="Concept" alias="" pk="ConceptId">
          <TableJoin id="2" name="Name" alias="" pk="NameId" type="inner" fkFrom="NameId" fkTo="NameId">
          </TableJoin>
          <!--TableJoin id="3" name="Re" alias="" pk="ReferenceID" type="inner" fkFrom="BibliographyReferenceFk" fkTo="ReferenceID"></TableJoin-->
        </Table>
        <Mappings>
          <Mapping type="SQLMinValueMapping" field="[EARLIEST_DATE]" table="1" column="ModifiedDate" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[IDENTIFIER]" table="1" column="ConceptId" columnAlias="" sql="" datatype="" />
          <!--Mapping type="DatabaseMapping" field="[RECORD_STATUS]" table="" column="" columnAlias="Status" sql="(case when tblBibliography.BibliographyIsDeleted = 1 then 'deleted' else '' end)" datatype="" /-->
          <Mapping type="DatabaseMapping" field="[RECORD_DATE]" table="1" column="ModifiedDate" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[ConceptId]" table="1" column="ConceptId" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[NameId]" table="1" column="NameId" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[AccordingToId]" table="1" column="AccordingToId" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[Rank]" table="1" column="" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[AcceptedConceptId]" table="1" column="AcceptedConceptId" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[AcceptedConceptProviderId]" table="1" column="" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[AcceptedConceptInUse]" table="1" column="AcceptedConceptInUse" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[ParentConceptId]" table="1" column="ParentConceptId" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[ParentConceptProviderId]" table="1" column="" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[ParentConceptInUse]" table="1" column="ParentConceptInUse" columnAlias="" sql="" datatype="" />
        </Mappings>
      </DataConnection>

      <!--DataConnection set="Publication">
        <DBConnectionString>Provider=SQLOLEDB;data source=devserver05;integrated security=SSPI;initial catalog=PlantNames_Dev;persist security info=true</DBConnectionString>
        <Table id="1" name="tblReference" alias="" pk="ReferenceID">
        </Table>
        <Mappings>
          <Mapping type="SQLMinValueMapping" field="[EARLIEST_DATE]" table="1" column="ReferenceUpdatedDate" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[IDENTIFIER]" table="1" column="ReferenceID" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[RECORD_STATUS]" table="" column="" columnAlias="Status" sql="(case when tblReference.ReferenceIsDeleted = 1 then 'deleted' else '' end)" datatype="" />
          <Mapping type="DatabaseMapping" field="[RECORD_DATE]" table="1" column="ReferenceUpdatedDate" columnAlias="" sql="" datatype="" />
          <Mapping type="DatabaseMapping" field="[Citation]" table="1" column="ReferenceGenCitation" columnAlias="" sql="" datatype="" />

        </Mappings>
      </DataConnection-->
    </DataConnections>

  </Service>

</Services>