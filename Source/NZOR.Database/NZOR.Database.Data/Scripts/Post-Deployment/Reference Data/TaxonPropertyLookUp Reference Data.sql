PRINT 'Starting TaxonPropertyLookUp Reference Data'

GO

SET NOCOUNT ON

DECLARE @TaxonPropertyLookUp TABLE
	(
	TaxonPropertyLookUpID UNIQUEIDENTIFIER NOT NULL,  

	TaxonPropertyTypeID UNIQUEIDENTIFIER NOT NULL, 
	ParentTaxonPropertyLookUpID UNIQUEIDENTIFIER NULL, 
	
	Value NVARCHAR(1000) NULL, 
	AlternativeStrings XML NULL
	)

INSERT INTO
	@TaxonPropertyLookUp
VALUES 
('0C45D8BC-D412-457D-B37F-06950A8284E2', '9BB63B14-0208-4070-A575-94F90DFD47B0', '398F39E8-619C-4976-AA29-C3BE2CFFE4CB', N'Eradicated/Destroyed', NULL),
('2F6E4255-917B-4A1D-903E-096DEB73858F', 'D955AD6E-4678-4AC9-B752-6A94F1C07080', '0EFA75DA-12D3-4A54-9F07-8BE55C2CF0DA', N'Non-endemic', NULL),
('59DA29AB-3A86-409C-BCF5-0DCA98CC1FF4', '9233FE71-4C27-4CE0-86B9-F1B2B392658E', NULL, N'Marine', NULL),
('F90406E0-4843-4879-9857-157FC12D34AE', '9BB63B14-0208-4070-A575-94F90DFD47B0', 'F7DE4387-0D1C-4EB4-945E-6597ECDBB8D0', N'Fossil Record', NULL),
('D92665BB-AB57-4600-80F4-2500D7DEBC9A', '7CDB8D51-55FB-4F1D-8897-C93DE6F1001D', NULL, N'Cultivation/Captivity', NULL),
('DFF82296-AFCA-4158-B222-2CBA3FE1146E', '9BB63B14-0208-4070-A575-94F90DFD47B0', NULL, N'Uncertain', NULL),
('0D7595BA-AC05-4499-8AF2-2D81B7877BA6', '9BB63B14-0208-4070-A575-94F90DFD47B0', '398F39E8-619C-4976-AA29-C3BE2CFFE4CB', N'Recorded in error', NULL),
('7BCA0167-3F68-4880-AB9A-362E53C6950F', 'D955AD6E-4678-4AC9-B752-6A94F1C07080', NULL, N'Exotic', NULL),
('4AA592BC-2A56-4548-8EC8-3E25E0B8AC42', '9BB63B14-0208-4070-A575-94F90DFD47B0', NULL, N'Unknown', NULL),
('60F9853C-91CD-4E77-96B5-3E5A0CF02FF0', '9BB63B14-0208-4070-A575-94F90DFD47B0', 'F7DE4387-0D1C-4EB4-945E-6597ECDBB8D0', N'Recent extinction', NULL),
('BE7D8363-CE0C-40C0-82FC-456C33225082', '7CDB8D51-55FB-4F1D-8897-C93DE6F1001D', NULL, N'Wild', NULL),
('E5AEB0B8-A8DD-439D-945A-49A3C9604F3F', '7CDB8D51-55FB-4F1D-8897-C93DE6F1001D', 'BE7D8363-CE0C-40C0-82FC-456C33225082', N'Rural environment', NULL),
('FFBFC290-8D5D-470D-B4EA-5D906DC88537', '9233FE71-4C27-4CE0-86B9-F1B2B392658E', NULL, N'Brackish', NULL),
('F7DE4387-0D1C-4EB4-945E-6597ECDBB8D0', '9BB63B14-0208-4070-A575-94F90DFD47B0', '398F39E8-619C-4976-AA29-C3BE2CFFE4CB', N'Extinct', NULL),
('5ACEE880-1AAD-4227-8E78-79751F79F604', '7CDB8D51-55FB-4F1D-8897-C93DE6F1001D', NULL, N'Containment', NULL),
('0EFA75DA-12D3-4A54-9F07-8BE55C2CF0DA', 'D955AD6E-4678-4AC9-B752-6A94F1C07080', NULL, N'Indigenous', NULL),
('193B125F-9F02-4157-85A8-927A5FC3593F', '9BB63B14-0208-4070-A575-94F90DFD47B0', '398F39E8-619C-4976-AA29-C3BE2CFFE4CB', N'Recorded historically', NULL),
('F389AC1F-7F22-4CB0-BB8C-9C80CB78BD23', 'D955AD6E-4678-4AC9-B752-6A94F1C07080', NULL, N'Uncertain', NULL),
('3794B21C-C87B-4045-914B-A28D79EF7B43', '9233FE71-4C27-4CE0-86B9-F1B2B392658E', NULL, N'Unknown', NULL),
('2F2A029C-F606-4E75-8ECA-A4192EA1A2A0', '7CDB8D51-55FB-4F1D-8897-C93DE6F1001D', 'BE7D8363-CE0C-40C0-82FC-456C33225082', N'Built environment', NULL),
('821246D8-600A-4D00-8B4E-C38411356E1D', '9BB63B14-0208-4070-A575-94F90DFD47B0', NULL, N'Present', NULL),
('398F39E8-619C-4976-AA29-C3BE2CFFE4CB', '9BB63B14-0208-4070-A575-94F90DFD47B0', NULL, N'Absent', NULL),
('8A880BF0-57D5-42CF-A1DC-C6ECF8C30328', '9BB63B14-0208-4070-A575-94F90DFD47B0', '398F39E8-619C-4976-AA29-C3BE2CFFE4CB', N'Border Intercept', NULL),
('80CCA214-E854-4D75-A0FA-DA71EF21DA6C', '9233FE71-4C27-4CE0-86B9-F1B2B392658E', NULL, N'Freshwater', NULL),
('AB490D5E-B342-409E-95EC-DF48044C461D', '9233FE71-4C27-4CE0-86B9-F1B2B392658E', NULL, N'Terrestrial', NULL),
('2604DEAE-6D7C-4AD4-9663-E1E5F3CA8278', '9BB63B14-0208-4070-A575-94F90DFD47B0', NULL, N'Sometimes present', NULL),
('BE3B126F-E630-4700-B433-EA77BE90F94A', 'D955AD6E-4678-4AC9-B752-6A94F1C07080', '0EFA75DA-12D3-4A54-9F07-8BE55C2CF0DA', N'Endemic', NULL),
('88CC4ACE-9E91-4507-9B9D-F59D5801D7D0', '7CDB8D51-55FB-4F1D-8897-C93DE6F1001D', 'BE7D8363-CE0C-40C0-82FC-456C33225082', N'Natural environment', NULL),
('5D339187-9173-47CF-BD04-FF1156C7282F', 'D955AD6E-4678-4AC9-B752-6A94F1C07080', NULL, N'Unknown', NULL),
('FE772A82-33FD-4915-B861-CD3B025DBE6A', '1DFDDEF8-B7E9-498F-9D51-E16665907F90', NULL, N'Prevention', NULL),
('E19C1882-834D-44FD-8645-DB0C3A8AF897', '1DFDDEF8-B7E9-498F-9D51-E16665907F90', NULL, N'Eradication', NULL),
('BBD8FE17-7D06-4357-B3DB-ACF583C491A2', '1DFDDEF8-B7E9-498F-9D51-E16665907F90', NULL, N'Control', NULL),
('4B3DC317-3F8F-4AD0-9B2C-8D12597359CF', '1DFDDEF8-B7E9-498F-9D51-E16665907F90', NULL, N'Containment', NULL),
('2008F187-51E6-4C39-8012-9A7211DC45A7', '1DFDDEF8-B7E9-498F-9D51-E16665907F90', NULL, N'Mitigation', NULL),
('900441F2-DEC1-4EC6-A937-C6D5CFDA3CFB', '1DFDDEF8-B7E9-498F-9D51-E16665907F90', NULL, N'Interception', NULL),
('EE877A44-35B4-4469-BE83-03E87580F6ED', '1DFDDEF8-B7E9-498F-9D51-E16665907F90', NULL, N'Conservation', NULL),
('69269394-560E-45D9-B9E4-6FF1792937ED', '1DFDDEF8-B7E9-498F-9D51-E16665907F90', NULL, N'None', NULL),
('4897E66C-E9B1-4F33-8318-65FB73F52702', 'ACE60424-87E1-4ECE-863D-462E5D5D7692', NULL, N'Successful', NULL),
('4A805EFF-F0AB-4A87-8CDB-587FE3235C99', 'ACE60424-87E1-4ECE-863D-462E5D5D7692', NULL, N'Failed', NULL),
('1856D2FA-AA56-44F2-9E04-ABDBB4DC1B43', 'ACE60424-87E1-4ECE-863D-462E5D5D7692', NULL, N'Unconfirmed success', NULL),
('45BF79BC-C1B4-4B23-903D-B0D663402235', 'ACE60424-87E1-4ECE-863D-462E5D5D7692', NULL, N'Unconfirmed failure', NULL),
('93C2396D-6498-449A-9F6D-53760C57D2EA', 'ACE60424-87E1-4ECE-863D-462E5D5D7692', NULL, N'Ongoing', NULL),
('3CA03304-E1CB-4A54-A228-C31CD8FCAFFD', 'ACE60424-87E1-4ECE-863D-462E5D5D7692', NULL, N'Unknown', NULL),
('68F05764-19C7-4D4C-A495-6484AB9648F2', '9E726761-12E2-450A-87FB-C3AA68851CE5', NULL, N'Proposed', NULL),
('91BA5B17-3EBE-400F-A10C-7DD86A0795D1', '9E726761-12E2-450A-87FB-C3AA68851CE5', NULL, N'Executing', NULL),
('F7BB4DAF-6B2B-4F42-8C3E-F3B4E43F549B', '9E726761-12E2-450A-87FB-C3AA68851CE5', NULL, N'Completed', NULL),
('67A1C4FA-59A4-4A26-BDC8-AE074C522C0C', '9E726761-12E2-450A-87FB-C3AA68851CE5', NULL, N'Unknown', NULL),
('7E326CF2-AB5E-417D-82AB-B910BB349F9D', 'C8CA8106-B421-4138-97CF-326B4A0E4C72', NULL, N'Threatened', NULL),
('11911211-125E-453C-9C01-200D2C1467E4', 'C8CA8106-B421-4138-97CF-326B4A0E4C72', NULL, N'Prohibited', NULL)

MERGE 
    dbo.TaxonPropertyLookUp AS Target
USING 
    @TaxonPropertyLookUp AS Source 
ON 
    (Target.TaxonPropertyLookUpID = Source.TaxonPropertyLookUpID)
WHEN MATCHED 
    THEN UPDATE
        SET   
			Target.TaxonPropertyTypeID = Source.TaxonPropertyTypeID,
			Target.ParentTaxonPropertyLookupID = Source.ParentTaxonPropertyLookupID,

            Target.Value = Source.Value,
            Target.AlternativeStrings = Source.AlternativeStrings

WHEN NOT MATCHED BY TARGET 
    THEN INSERT      
        (TaxonPropertyLookupID, TaxonPropertyTypeID, ParentTaxonPropertyLookupID, Value, AlternativeStrings)
    VALUES      
        (TaxonPropertyLookupID, TaxonPropertyTypeID, ParentTaxonPropertyLookupID, Value, AlternativeStrings)

WHEN NOT MATCHED BY SOURCE 
    THEN DELETE
; 

GO

PRINT 'Finished TaxonPropertyLookUp Reference Data'

GO